# project_work_otus
Система мотивации методом поощрения для детей от 3 лет

## Описание проекта
Автоматизация системы мотивации методом поощрения для детей от 3 лет. 
Система основана на авторской методике и современных подходах в детской психологии, 
подходит для детей с симптомами СДВГ и без них.

## Установка
1. Клонирование репозитория
```git clone https://github.com/VladDr85/project_work_otus.git```
2. Установка зависимостей ```poetry install```
3. Запуск БД PG через контейнеры ```docker-compose up -d```
4. Установить миграции ```alembic upgrade head```
4. Запуск приложения ```uvicorn main:app --reload```
5. После запуска доступен superuser ```parent@admin.com/admin```

## Документация
Пользовательскую документацию можно получить по [этой ссылке](http://localhost:8000/docs).



## Структура проекта
```
project_work_otus/
│
├── incentive-motivation/                 # Основной каталог приложения
│   ├── .env                              # Файл для хранения переменных окружения
│   ├── alembic.ini                       # Конфигурация для Alembic, инструмента миграции базы данных
│   ├── main.py                           # Точка входа в приложение, инициализация FastAPI
│   ├── actions/                          # Каталог для действий: заполнение данными, создание пользователя superuser..
│   │   └── create_superuser.py           # Создание superuser
│   ├── alembic/                          # Каталог для миграций через alembic
│   │   └── versions/                     # Файлы миграций
│   ├── api/                              # Определение маршрутов API
│   │   ├── api_v1/                       # API версии 1
│   │   │   ├── __init__.py               # Инициализация. Собираем все вложенные router
│   │   │   ├── auth.py                   # Конечные точки для системы Аутентификации
│   │   │   ├── ...                       # Иные конечные точки системы
│   │   │   └── users.py                  # Конечные точки для системы Авторизации
│   │   ├── endpoints/                    # Конечные точки API
│   │   │   ├── __init__.py               # Инициализация пакета
│   │   │   ├── completed_mission.py      # Конечные точки для Журнала выполненных заданий
│   │   │   ├── incentive.py              # Конечные точки для Списока поощрений
│   │   │   ├── incentive_list.py         # Конечные точки для Заголовока списка поощрений
│   │   │   ├── lottery.py                # Конечные точки для Истории результатов розыгрыша
│   │   │   ├── mission.py                # Конечные точки для Списока заданий
│   │   │   └── purpose.py                # Конечные точки для Списока целей мотивации
│   │   └── dependencies/                 # Зависимости для маршрутов API
│   │       ├── __init__.py               # Инициализация пакета
│   │       └── authentication/           # Зависимости для маршрутов Авторизации и Аутентификации
│   ├── core/                             # Основной функционал приложеия
│   │   ├── __init__.py                   # Инициализация пакета
│   │   ├── config.py                     # Настройки приложения в том числе и подключение к базе данных
│   │   ├── authentication/               # Описание и настройка Авторизации и Аутентификации
│   │   │   ├── transport.py              # Настройка Аутентификации через транспорт bearer_transport
│   │   │   └── user_manager.py           # Настройка fastapi_users UserManager
│   │   ├── models/                       # Модели базы данных
│   │   │   ├── __init__.py               # Инициализация пакета
│   │   │   ├── access_token.py           # Модель AccessToken(SQLAlchemyBaseAccessTokenTable)
│   │   │   ├── ...                       # Иные модели системы
│   │   │   └── user.py                   # Модель User(SQLAlchemyBaseUserTable)
│   │   ├── schemas/                      # Pydantic схемы для валидации данных
│   │   │   ├── __init__.py               # Инициализация пакета
│   │   │   ├── completed_mission.py      # Схема для Журнала выполненных заданий
│   │   │   ├── ...                       # Иные схемы системы
│   │   │   └── purpose.py                # Схема для Списока целей мотивации
│   │   ├── services/                     # Логика бизнес-уровня
│   │   │   ├── __init__.py               # Инициализация пакета
│   │   │   ├── completed_mission.py      # Сервис для работы с Журналом выполненных заданий
│   │   │   ├── ...                       # Иные схемы системы
│   │   │   └── purpose.py                # Сервис для работы со Списоком целей мотивации
│   │   ├── templates/                    # Шаблоны для рендеринга HTML
│   │   │   ├── base.html                 # Основной шаблон, от которого наследуются другие шаблоны
│   │   │   ├── index.html                # Главная страница приложения
│   │   │   └── ...                       # Другие HTML-шаблоны
│   │   ├── types/                        # Пользовательские типы
│   │   │   └── user_id.py                # Тип для id User
│   ├── utils/                            # Утилиты и вспомогательные функции
│   │   └── ...                           # Утилиты
│   └── tests/                            # Тесты для различных компонентов приложения
│       ├── __init__.py                   # Инициализация пакета
│       ├── conftest.py                   # Конфигурация тестов (фикстуры и т.д.)
│       └── ...                           # Другие HTML-шаблоны
├── .pylintrc                             # конфигурационный файл для инструмента Pylint
├── docker-compose.yml                    # Конфигурационный файл для работы с контейнирами 
├── Makefile                              # Справочник команд для работы с приложением
├── poetry.lock                           # Список зависимостей poetry
├── pyproject.toml                        # Список установленных модулей poetry
├── .gitignore                            # Файл для игнорирования ненужных файлов в системе контроля версий
└── README.md                             # Документация проекта
```